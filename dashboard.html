<!DOCTYPE html>
<html>
<head>
    <title>Health Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="dashboard">
    <h2>Real-Time Health Risk Prediction</h2>

    <div class="data-box">

        <label>Heart Rate</label>
        <input id="hr" type="number" placeholder="Enter Heart Rate">

        <label>SpO2</label>
        <input id="spo2" type="number" placeholder="Enter SpO2">

        <label>Temperature</label>
        <input id="temp" type="number" step="0.1" placeholder="Enter Temperature">

        <label>Respiration</label>
        <input id="resp" type="number" placeholder="Enter Respiration">

        <label>Blood Pressure Systolic</label>
        <input id="bp_sys" type="number" placeholder="Systolic">

        <label>Blood Pressure Diastolic</label>
        <input id="bp_dia" type="number" placeholder="Diastolic">

        <label>Glucose</label>
        <input id="glucose" type="number" placeholder="Glucose">

        <label>Activity Level</label>
        <input id="activity" type="number" step="0.1" placeholder="Activity Level">

        <button onclick="predictRisk()">Predict Risk</button>

        <p>Risk Level: <span id="risk">--</span></p>

    </div>
</div>

<script>
async function predictRisk() {
    const data = {
        HeartRate: document.getElementById('hr').value,
        SpO2: document.getElementById('spo2').value,
        Temperature: document.getElementById('temp').value,
        Respiration: document.getElementById('resp').value,
        BP_Systolic: document.getElementById('bp_sys').value,
        BP_Diastolic: document.getElementById('bp_dia').value,
        Glucose: document.getElementById('glucose').value,
        ActivityLevel: document.getElementById('activity').value
    };

    const response = await fetch('/api/predict', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
    });

    const result = await response.json();

    document.getElementById('risk').innerText = result.Risk || "Error";
}
</script>

</body>
</html>